
<!doctype html>
<html lang="ca" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../3_Entities_Beans/">
      
      
        <link rel="next" href="../5_HQL/">
      
      
      <link rel="icon" href="../../assets/jaume.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>4. Relacions - Accés a Dades</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-mapejant-relacions" class="md-skip">
          Salta el contingut
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Capçalera">
    <a href="../.." title="Accés a Dades" class="md-header__button md-logo" aria-label="Accés a Dades" data-md-component="logo">
      
  <img src="../../assets/jaume.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Accés a Dades
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4. Relacions
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="brown" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Selecciona la llengua">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../en/UD3_Hibernate/4_Relationships/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="./" hreflang="ca" class="md-select__link">
              Valencià
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Neteja" aria-label="Neteja" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicialitzant cerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegació" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Accés a Dades" class="md-nav__button md-logo" aria-label="Accés a Dades" data-md-component="logo">
      
  <img src="../../assets/jaume.png" alt="logo">

    </a>
    Accés a Dades
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inici
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 1. Fitxers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Unitat 1. Fitxers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD1_Files/1_File_System/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Sistema de Fitxers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD1_Files/2_Reading_and_writing_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Llegint i Escrivint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD1_Files/3_XML_Files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Treball amb Arxius XML
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD1_Files/4_JSON_Files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Treball amb Arxius JSON
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD1_Files/5_Extra_Formats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Altres formats de Fitxers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 2. Connectors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Unitat 2. Connectors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD2_Connectors/1_Object_relational_impedance_mismatch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Desfase objecte-relacional
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD2_Connectors/2_Connectors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Connectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD2_Connectors/3_Connecting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Connectant-se a la base de dades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD2_Connectors/4_Resultset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Resultats de les consultes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD2_Connectors/5_Metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Metadades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD2_Connectors/6_CRUD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Operacions CRUD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD2_Connectors/7_Row_to_Object/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7. De les files als objectes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 3. Hibernate
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Unitat 3. Hibernate
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1_Mapping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Mapeig d'objectes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2_Hibernate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Introduccio a Hibernate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3_Entities_Beans/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Entitats
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    4. Relacions
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    4. Relacions
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-mapejant-relacions" class="md-nav__link">
    <span class="md-ellipsis">
      1. Mapejant Relacions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-relacions-un-a-un" class="md-nav__link">
    <span class="md-ellipsis">
      2. Relacions Un a Un
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Relacions Un a Un">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-un-a-un-bidireccional" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Un a Un bidireccional
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-un-a-molts" class="md-nav__link">
    <span class="md-ellipsis">
      3. Un a Molts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Un a Molts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-tipus-de-carrega-fetch" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Tipus de Càrrega Fetch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-molts-a-molts" class="md-nav__link">
    <span class="md-ellipsis">
      4. Molts a Molts
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../5_HQL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Consultes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 4. Bases de Dades OO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Unitat 4. Bases de Dades OO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD4_BDOO/1_Introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Introduccio a les bases de dades OO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD4_BDOO/2_ORDB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Bases de dades Objecte-Relacionals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD4_BDOO/3_OODB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Bases de dades Orientades a Objectes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 5. Spring
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Unitat 5. Spring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD5_Spring/1_Data_Access_Services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Serveis d'Acces a Dades
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD5_Spring/2_Spring_SpringBoot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Introducció a Spring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD5_Spring/3_API_Rest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Creació de APIs REST
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD5_Spring/4_Spring_Security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Seguretat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD5_Spring/5_Spring_Hateoas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. Spring Haetoas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD5_Spring/6_Postman_Swagger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Test. Postman i Swagger
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Unitat 6. MongoDB
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Unitat 6. MongoDB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD6_MongoDB/1_NoSQL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Bases de dades NoSQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD6_MongoDB/2_MongoDB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. MongoDB
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD6_MongoDB/3_ShellOperations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Treballant amb MongoDB: Operacions bàsiques de shell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD6_MongoDB/4_Queries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4. Consultese en Mongo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD6_MongoDB/5_Mongo_Java/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5. MongoDB i Java
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../UD6_MongoDB/6_Spring_MongoDB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6. Spring Data MongoDB i API REST
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pràctiques
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Pràctiques
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Practiques/APAC1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pràctica 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Practiques/APAC2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pràctica 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Practiques/APAC3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pràctica 3
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sobre mi
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llicència
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-mapejant-relacions" class="md-nav__link">
    <span class="md-ellipsis">
      1. Mapejant Relacions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-relacions-un-a-un" class="md-nav__link">
    <span class="md-ellipsis">
      2. Relacions Un a Un
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Relacions Un a Un">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-un-a-un-bidireccional" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Un a Un bidireccional
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-un-a-molts" class="md-nav__link">
    <span class="md-ellipsis">
      3. Un a Molts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Un a Molts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-tipus-de-carrega-fetch" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Tipus de Càrrega Fetch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-molts-a-molts" class="md-nav__link">
    <span class="md-ellipsis">
      4. Molts a Molts
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>4. Relacions</h1>

<h2 id="1-mapejant-relacions">1. Mapejant Relacions</h2>
<p>Com vam esmentar a la introducció, analitzarem com mapejar els diferents tipus de relacions. Abans de començar a discutir la cardinalitat de les relacions, hem de considerar el significat d'aquestes relacions, i revisarem el concepte de direccionalitat de les relacions.</p>
<ul>
<li><strong>Unidireccional</strong> → Direm que una relació és unidireccional quan accedim a l'objecte relacionat (component) des d'un altre objecte (propietari). Per exemple, si muntem un <em>motor</em> en un <em>cotxe</em>, el lògic és que el propietari sigui el <em>cotxe</em>, i des d'aquest obtindrem el <em>motor</em>. En aquest cas, dins de l'objecte <em>Cotxe</em> apareixerà un objecte <em>Motor</em>, i el <em>Motor</em> no tindrà una existència pròpia.</li>
<li><strong>Bidireccional</strong> → Són relacions en les quals els elements relacionats solen tenir el mateix <em>pes</em> o entitat. Per exemple, un <em>Grup</em> d'un institut i un <em>Tutor</em>. Des d'un grup té sentit conèixer el tutor, i també podem des d'un professor (el tutor), accedir al grup que tutoritza. En aquest cas, dins de l'objecte <em>Grup</em> tenim una referència a l'objecte <em>Tutor</em> i viceversa.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Avís</p>
</div>
<p>En aquest tipus de referències, com es pot deduir, hi ha una recursió intrínseca. Per tant, quan gestionem aquest tipus de relacions bidireccionals, tingueu molta cura de no causar bucles, ja que fins i tot una cosa tan senzilla com imprimir pot fer que el nostre programa es bloquegi i aparegui la coneguda <code>StackOverflowException</code>.</p>
<p>A partir d'ara, podríem estudiar totes les representacions amb JPA.</p>
<h2 id="2-relacions-un-a-un">2. Relacions Un a Un</h2>
<p>Per a l'explicació dels exemples, veurem el disseny i la implementació a la base de dades de cada cas i com es veu a Hibernate. Per a aquest exemple representarem una relació 1:1 entre Grup i Professor, on es pot veure que un Grup té un Tutor, i un Tutor només pot tutoritzar un Grup.</p>
<p><center><img alt="one_to_one" src="../img/1_1.png" width="90%" /></center></p>
<p>Primerament, la classe que és apuntada per la clau forana. Molt fàcil, perquè no necessitem fer res.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="nd">@Data</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="nd">@NoArgsConstructor</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="nd">@Entity</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="nd">@Table</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Profesor&quot;</span><span class="p">)</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Profesor</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">serialVersionUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1L</span><span class="p">;</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">  </span><span class="nd">@Id</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="w">  </span><span class="nd">@GeneratedValue</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="n">GenerationType</span><span class="p">.</span><span class="na">IDENTITY</span><span class="p">)</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">idTeacher</span><span class="p">;</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">  </span><span class="nd">@Column</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="nf">Profesor</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="w">  </span><span class="p">}</span><span class="w">   </span>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>I ara, la classe que conté la clau aliena. Aquí hem de marcar que un <code>Grup</code> necessita un <code>Professor</code> com a tutor. Vegem-ho:</p>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span>
<span class="normal"><a href="#__codelineno-1-27">27</a></span>
<span class="normal"><a href="#__codelineno-1-28">28</a></span>
<span class="normal"><a href="#__codelineno-1-29">29</a></span>
<span class="normal"><a href="#__codelineno-1-30">30</a></span>
<span class="normal"><a href="#__codelineno-1-31">31</a></span>
<span class="normal"><a href="#__codelineno-1-32">32</a></span>
<span class="normal"><a href="#__codelineno-1-33">33</a></span>
<span class="normal"><a href="#__codelineno-1-34">34</a></span>
<span class="normal"><a href="#__codelineno-1-35">35</a></span>
<span class="normal"><a href="#__codelineno-1-36">36</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="nd">@Data</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="nd">@NoArgsConstructor</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="nd">@Entity</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="nd">@Table</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Grupo&quot;</span><span class="p">)</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Grupo</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Serializable</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">  </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">serialVersionUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">137L</span><span class="p">;</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">  </span><span class="nd">@Id</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">  </span><span class="nd">@GeneratedValue</span><span class="p">(</span><span class="n">strategy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GenerationType</span><span class="p">.</span><span class="na">IDENTITY</span><span class="p">)</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">idGroup</span><span class="p">;</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">  </span><span class="nd">@Column</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">  </span><span class="nd">@Column</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">course</span><span class="p">;</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="w">  </span><span class="nd">@Column</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">;</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="w">  </span><span class="nd">@OneToOne</span><span class="p">(</span><span class="n">cascade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CascadeType</span><span class="p">.</span><span class="na">ALL</span><span class="p">)</span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="w">  </span><span class="nd">@JoinColumn</span><span class="p">(</span>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="w">      </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;id_tutor&quot;</span><span class="p">,</span>
<a id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="w">      </span><span class="n">referencedColumnName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;idTeacher&quot;</span><span class="p">,</span>
<a id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="w">      </span><span class="n">unique</span><span class="o">=</span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-1-27" name="__codelineno-1-27"></a><span class="w">      </span><span class="n">foreignKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nd">@ForeignKey</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;FK_GRP_TEACH&quot;</span><span class="p">))</span>
<a id="__codelineno-1-28" name="__codelineno-1-28"></a><span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">Profesor</span><span class="w"> </span><span class="n">tutor</span><span class="p">;</span>
<a id="__codelineno-1-29" name="__codelineno-1-29"></a>
<a id="__codelineno-1-30" name="__codelineno-1-30"></a><span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="nf">Grupo</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">level</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">course</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-31" name="__codelineno-1-31"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<a id="__codelineno-1-32" name="__codelineno-1-32"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">course</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">course</span><span class="p">;</span>
<a id="__codelineno-1-33" name="__codelineno-1-33"></a><span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="na">year</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">year</span><span class="p">;</span>
<a id="__codelineno-1-34" name="__codelineno-1-34"></a><span class="w">  </span><span class="p">}</span><span class="w">  </span>
<a id="__codelineno-1-35" name="__codelineno-1-35"></a>
<a id="__codelineno-1-36" name="__codelineno-1-36"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
Tingueu en compte que la classe <code>Grupo</code> conté un camp anomenat <code>tutor</code> de la classe <code>Profesor</code>, i:</p>
<ul>
<li><code>@OneToOne(cascade = CascadeType.ALL)</code> marquem aquesta relació com a 1:1. A més, especifiquem l'atribut <code>cascade</code>, que és el més important. El cascading és la manera de dir que quan realitzem alguna acció sobre l'entitat objectiu (<code>Grupo</code>), la mateixa acció s'aplicarà a l'entitat associada (<code>Profesor</code>). Revisem les opcions més rellevants:</li>
<li><code>CascadeType.ALL</code> propaga totes les operacions. La mateixa operació que fem en l'objectiu es farà en l'associat.</li>
<li><code>CascadeType.PERSIST</code> propaga només l'operació de persistència a la base de dades (guardar).</li>
<li><code>CascadeType.SAVE_UPDATE</code> és de Hibernate, no de JPA, i propaga el mètode <code>saveOrUpdate()</code>. És molt similar a persist.</li>
<li><code>CascadeType.REMOVE</code> o <code>CascadeType.DELETE</code> propaga l'eliminació d'entitats. Tingueu molta cura amb aquesta opció per evitar perdre dades.</li>
<li>En el <code>@JoinColumn</code> establim:</li>
<li>el nom de la columna a la nostra base de dades</li>
<li>el nom de la columna referenciada en l'entitat objectiu <code>Profesor</code></li>
<li><code>unique=true</code> per assegurar que la relació és 1:1 (un professor no pot estar relacionat amb cap altre grup)</li>
<li>[opcional] per establir el nom de la restricció de clau forana, en cas que vulgueu canviar-lo o eliminar-lo en operacions futures.</li>
</ul>
<p>Més informació a la següent web<a href="https://www.baeldung.com/jpa-cascade-types">baeldung</a></p>
<h3 id="21-un-a-un-bidireccional">2.1. Un a Un bidireccional</h3>
<p>Si volem emmagatzemar en Professor els grups que està tutoritzant, necessitem afegir una referència al Grup. Com que hem fet la clau forana en Grup, serà molt fàcil:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="nd">@OneToOne</span><span class="p">(</span><span class="n">mappedBy</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;tutor&quot;</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kd">private</span><span class="w"> </span><span class="n">Grupo</span><span class="w"> </span><span class="n">elGrupo</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
<p>Amb <code>mappedBy="tutor"</code> estem dient que a la classe <code>Grupo</code> existeix un camp anomenat <code>tutor</code> amb tota la informació sobre la relació. Tingueu en compte que no s'afegiran camps addicionals a <code>Profesor</code>, perquè la informació sobre la relació es troba a la taula <code>Grupo</code>.</p>
<h2 id="3-un-a-molts">3. Un a Molts</h2>
<p>Per a aquesta explicació començarem amb el següent model, en el qual un <strong>Llibre</strong> té un <strong>Autor</strong> que l'ha escrit, i un Autor pot haver escrit diversos Llibres. En l'esquema relacional, la relació és des de <code>idAutor</code> en Llibres, que és clau forana a la taula Autor (ID).</p>
<p><center><img alt="one_to_many" src="../img/1_N.png" width="90%" /></center></p>
<p>Primer, podem decidir qui és el propietari de la relació. Realment no importa, però en diversos dissenys és molt clar, per exemple entre <code>Estudiant</code> i <code>Email</code>, on òbviament el propietari és <code>Estudiant</code>. Normalment hauria de ser la classe amb cardinalitat <strong>molts</strong> el propietari. Vegem l'exemple.</p>
<p><div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="nd">@Entity</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="nd">@Table</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Libro&quot;</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Libro</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Serializable</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">    </span><span class="nd">@Id</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="nd">@GeneratedValue</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="n">GenerationType</span><span class="p">.</span><span class="na">IDENTITY</span><span class="p">)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Long</span><span class="w"> </span><span class="n">idLibro</span><span class="p">;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a><span class="w">    </span><span class="nd">@Column</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">titol</span><span class="p">;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">    </span><span class="nd">@Column</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">tipus</span><span class="p">;</span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a><span class="w">    </span><span class="nd">@ManyToOne</span><span class="p">(</span><span class="n">cascade</span><span class="o">=</span><span class="n">CascadeType</span><span class="p">.</span><span class="na">PERSIST</span><span class="p">)</span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="w">    </span><span class="nd">@JoinColumn</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;idAutor&quot;</span><span class="p">,</span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a><span class="w">                </span><span class="n">foreignKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nd">@ForeignKey</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;FK_LIB_AUT&quot;</span><span class="w"> </span><span class="p">))</span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Autor</span><span class="w"> </span><span class="n">elAutor</span><span class="p">;</span>
</code></pre></div></td></tr></table></div>
En aquest exemple, un <code>Llibre</code> té un autor (únic). Ho implementem emmagatzemant una referència a un objecte Autor, anomenat <code>elAutor</code> dins del nostre Llibre. Hem d'escriure la informació de la relació en aquest camp:</p>
<ul>
<li>Hem de marcar aquest camp com <code>@ManyToOne</code>, perquè Llibre està al costat dels molts de la relació (recordeu que un Autor pot escriure diversos Llibres)</li>
<li>La clau forana serà anotada amb l'etiqueta <code>@JoinColumn</code>, amb diversos atributs:</li>
<li>Com que <code>elAutor</code> és el punt inicial de la clau forana, que apunta a la taula <code>Author</code>, necessitem dir el nom de la clau primària en aquesta classe. Aquest atribut és opcional, però és una bona opció per millorar el nostre codi.</li>
<li>Opcionalment, podem anomenar la restricció de la clau forana, amb un nom ben estructurat, amb l'atribut <code>foreignKey</code></li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span>
<span class="normal"><a href="#__codelineno-4-17">17</a></span>
<span class="normal"><a href="#__codelineno-4-18">18</a></span>
<span class="normal"><a href="#__codelineno-4-19">19</a></span>
<span class="normal"><a href="#__codelineno-4-20">20</a></span>
<span class="normal"><a href="#__codelineno-4-21">21</a></span>
<span class="normal"><a href="#__codelineno-4-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="nd">@Entity</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="nd">@Table</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Libro&quot;</span><span class="p">)</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Autor</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Serializable</span><span class="p">{</span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">serialVersionUID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">137L</span><span class="p">;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">    </span><span class="nd">@Id</span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="nd">@GeneratedValue</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="n">GenerationType</span><span class="p">.</span><span class="na">IDENTITY</span><span class="p">)</span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Long</span><span class="w"> </span><span class="n">idAutor</span><span class="p">;</span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">    </span><span class="nd">@Column</span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">nom</span><span class="p">;</span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="w">    </span><span class="nd">@Column</span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">nacionalitat</span><span class="p">;</span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a>
<a id="__codelineno-4-17" name="__codelineno-4-17"></a><span class="w">    </span><span class="nd">@OneToMany</span><span class="p">(</span><span class="n">mappedBy</span><span class="o">=</span><span class="s">&quot;elAutor&quot;</span><span class="p">,</span>
<a id="__codelineno-4-18" name="__codelineno-4-18"></a><span class="w">            </span><span class="n">cascade</span><span class="o">=</span><span class="n">CascadeType</span><span class="p">.</span><span class="na">PERSIST</span><span class="p">,</span>
<a id="__codelineno-4-19" name="__codelineno-4-19"></a><span class="w">            </span><span class="n">fetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FetchType</span><span class="p">.</span><span class="na">LAZY</span><span class="p">)</span>
<a id="__codelineno-4-20" name="__codelineno-4-20"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">Libro</span><span class="o">&gt;</span><span class="w"> </span><span class="n">elsLlibres</span><span class="p">;</span>
<a id="__codelineno-4-21" name="__codelineno-4-21"></a>
<a id="__codelineno-4-22" name="__codelineno-4-22"></a><span class="w">    </span><span class="c1">// rest of the class</span>
</code></pre></div></td></tr></table></div>
<p>La classe <code>Autor</code> està en el costat <em>un</em>, i això significa que pot escriure <em>molts</em> <code>Llibres</code>. Per aquesta raó, emmagatzemem tots els llibres que ha escrit en un <code>Set</code> de llibres. Les anotacions seran:</p>
<ul>
<li>Com que un Autor pot escriure molts llibres, marquem el Set de llibres com <code>@OneToMany</code>. Com que hem escrit l'especificació de la relació en Llibre, podríem dir que la relació està mapejada en el camp <code>elAutor</code> dins de la classe <code>Llibre</code>, amb <code>mappedBy="elAutor"</code> fàcilment.</li>
</ul>
<div class="admonition nota">
<p class="admonition-title">Decisió</p>
</div>
<p>En lloc d'emmagatzemar llibres en un Set, es poden emmagatzemar en una Llista. La principal diferència és respondre a aquesta pregunta: <em>és important l'ordre?</em>. Si respons <em>sí</em>, has d'utilitzar una Llista. Si la resposta és <em>no</em>, has d'utilitzar un Set.</p>
<div class="admonition important">
<p class="admonition-title">Espai</p>
<p>La relació <code>1:N</code> que hem explicat és bidireccional. Això vol dir que des d'un Autor podem obtenir tots els Llibres que ha escrit, i des d'un Llibre podem obtenir l'Autor.</p>
<p><center><img alt="one_to_many_bidirectional" src="../img/1_N_B.png" width="90%" /></center></p>
<p>Podeu trobar diverses pàgines i llibres que expliquen les relacions unidireccionals <code>1:N</code>. Això vol dir que amb aquest tipus d'implementació només podem viatjar en una direcció. En aquest cas, hem d'emmagatzemar només dins d'un Llibre qui és l'autor, perquè el Llibre és el propietari. Hem d'eliminar el conjunt de llibres en l'autor per obtenir una relació unidireccional.</p>
</div>
<h3 id="31-tipus-de-carrega-fetch">3.1. Tipus de Càrrega <strong>Fetch</strong></h3>
<p>Aquest atribut sol aparèixer quan tenim una relació <code>1:N</code> o <code>N:M</code> en una classe que té una col·lecció de classes relacionades (també es pot especificar amb un <code>1:1</code> però és menys comú). Quan Hibernate carrega un objecte, carregarà els seus atributs generals (nom, nacionalitat, etc...), però què passa amb els Llibres que ha escrit, els carrega o no?</p>
<ul>
<li><code>DateType.EAGER</code> → Literalment traduït com <strong>ansiós</strong>. No podem esperar, i quan es carrega l'Autor, Hibernate resoldrà la relació i carregarà tots els llibres amb totes les dades internes de cada llibre. Tenim totes les dades en el moment.</li>
<li><code>DateType.LAZY</code> → Literalment com <strong>mandrós</strong> (vago), però més representatiu com <em>càrrega mandrosa</em>. Si carreguem l'Autor, Hibernate només carrega els atributs propis de l'Autor, sense carregar els seus Llibres. Quan intentem accedir als seus llibres des del nostre programa, Hibernate s'<em>activa</em> i els carrega. És a dir, en mode LAZY, les dades es carreguen <strong>quan es necessiten</strong>.</li>
</ul>
<p><strong>Què farem?</strong>*</p>
<p>Què és millor o pitjor? La resposta no és senzilla, ja que ambdós tenen pros i contres:</p>
<ul>
<li>En <code>EAGER</code> només es fa un accés, mentre que en <code>LAZY</code> dos accessos o més.</li>
<li>En <code>EAGER</code> es carreguen totes les dades, fins i tot si no són necessàries, en <code>LAZY</code> només es carrega el que és necessari.</li>
</ul>
<p>El programador ha de valorar i equilibrar la quantitat d'informació requerida en un moment donat i el cost d'accés a la base de dades.</p>
<h2 id="4-molts-a-molts">4. Molts a Molts</h2>
<p>En aquesta secció acabarem amb l'últim tipus de relacions que podem trobar en el model E/R, que són les relacions molts a molts. Poden aparèixer altres relacions amb cardinalitats més altes, com les relacions ternàries, però com es va estudiar en el primer any, totes elles es poden modelar amb transformacions binàries.</p>
<p>Dins de les relacions binàries, podem trobar dues possibilitats:</p>
<ul>
<li>Relacions que simplement indiquen la relació (per exemple, que un personatge pot o no portar un cert tipus d'arma en un joc de rol) o</li>
<li>Relacions que, a més d'indicar-ho, afegeixen nous atributs. Per exemple, un actor participa en una pel·lícula en un tipus de paper: principal, secundari, etc.</li>
</ul>
<p>En el model relacional, ambdós casos acaben sent modelats com una nova taula (amb o sense l'atribut). Si ens trobem en el segon cas, una nova taula amb els atributs que posseeix ha de ser modelada amb una classe, així que la relació <code>N:M</code> entre dues taules es convertirà en <code>dues relacions un a molts 1:N i N:1</code> (actor-actuació i actuació-pel·lícula). Ens centrarem en el primer cas, ja que ja estem preparats per resoldre el segon.</p>
<div class="admonition nota">
<p class="admonition-title">Millora</p>
</div>
<p>Per a la segona part, aquest tutorial explica com fer-ho <a href="https://thorben-janssen.com/hibernate-tip-many-to-many-association-with-additional-attributes/">N_M amb atributs</a>. És molt recomanable implementar-ne un exemple.</p>
<p>Anem a modelar el cas típic d'un Professor que imparteix diversos Mòduls, els quals poden ser impartits per diversos professors. L'esquema és el següent:</p>
<p><center><img alt="many to many" src="../img/N_M.png" width="90%" /></center></p>
<p>Com podem veure, la típica taula central de la relació <code>N:M</code> es manté. Com es va esmentar anteriorment, la taula Docència no existirà en el model OO, ja que només serveix per relacionar els elements.</p>
<p>Les classes Mòdul i Professor són les següents (només es mostra la part relacionada amb la relació) triant en aquest cas Professor com el propietari de la relació:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="c1">// in Professor, a set of Modulo</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="nd">@ManyToMany</span><span class="p">(</span><span class="n">cascade</span><span class="o">=</span><span class="n">CascadeType</span><span class="p">.</span><span class="na">PERSIST</span><span class="p">,</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">            </span><span class="n">fetch</span><span class="o">=</span><span class="n">FetchType</span><span class="p">.</span><span class="na">LAZY</span><span class="p">)</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="nd">@JoinTable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Docencia&quot;</span><span class="p">,</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">          </span><span class="n">joinColumns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nd">@JoinColumn</span><span class="p">(</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">            </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;idProfesor&quot;</span><span class="p">,</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">            </span><span class="n">foreignKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nd">@ForeignKey</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;FK_DOC_PROF&quot;</span><span class="w"> </span><span class="p">))},</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">          </span><span class="n">inverseJoinColumns</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nd">@JoinColumn</span><span class="p">(</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="w">            </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;idModulo&quot;</span><span class="p">,</span>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="w">            </span><span class="n">foreignKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nd">@ForeignKey</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;FK_DOC_MOD&quot;</span><span class="w"> </span><span class="p">))})</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a><span class="kd">private</span><span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">Modulo</span><span class="o">&gt;</span><span class="w"> </span><span class="n">losModulos</span><span class="o">=</span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span>
<span class="normal"><a href="#__codelineno-6-3">3</a></span>
<span class="normal"><a href="#__codelineno-6-4">4</a></span>
<span class="normal"><a href="#__codelineno-6-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="c1">// in Modulo.. a set of Professor</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="nd">@ManyToMany</span><span class="p">(</span><span class="n">cascade</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CascadeType</span><span class="p">.</span><span class="na">PERSIST</span><span class="p">,</span>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">            </span><span class="n">fetch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FetchType</span><span class="p">.</span><span class="na">LAZY</span><span class="p">,</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">            </span><span class="n">mappedBy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;losModulos&quot;</span><span class="p">)</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="kd">private</span><span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">Profesor</span><span class="o">&gt;</span><span class="w"> </span><span class="n">losProfesores</span><span class="o">=</span><span class="k">new</span><span class="w"> </span><span class="n">HashSet</span><span class="o">&lt;&gt;</span><span class="p">();;</span>
</code></pre></div></td></tr></table></div>
<p>Aquesta és l'especificació més complicada, anem-hi:</p>
<ul>
<li>En ambdues classes el mapeig és <code>@ManyToMany</code></li>
<li>En ambdós casos indiquem com gestionem les operacions en cascada (<code>cascade</code>) i la càrrega dels objectes relacionats de l'altra classe (<code>fetch</code>)</li>
<li>A la classe propietària (<code>Professor</code>) es maparà un <code>Set&lt;Module&gt;</code> amb la relació que començarà des de la meva classe actual <code>Professor</code> <span class="arithmatex">\(\rightarrow\)</span> docència <span class="arithmatex">\(\rightarrow\)</span> <code>Modulo</code> (el tipus base del Set)</li>
<li>Amb <code>@JoinTable</code> s'indica que la relació enllaça amb una taula amb nom <code>Docencia</code>, on:</li>
<li>S'enllaçarà (<code>joincolumns</code>), i l'enllaç és amb <code>@JoinColumn</code>:<ul>
<li>Començant des del camp <code>idProfesor</code> dins de la taula <code>Docencia</code></li>
<li>Acabant a la clau primària de <code>Profesor</code>,</li>
<li>La FK es nomena <code>foreignKey = @ForeignKey(name = "FK_DOC_PROF" )</code>.</li>
</ul>
</li>
<li>Tingueu en compte que els noms dins de @JoinTable són noms a la taula Docencia (existent només a la base de dades).</li>
<li>Es mapeja des de la taula <code>Docencia</code> a l'entitat font <code>Modulo</code> inversament (des del punt fins a l'origen de la fletxa):   </li>
<li>Això s'aconsegueix amb <code>inverseJoinColumns</code>:<ul>
<li>Enllaçant des del camp <code>idModule</code> (<code>@JoinColumn</code>).</li>
<li>També nomenem la FK.</li>
</ul>
</li>
<li>A la classe relacionada (<code>Modulo</code>), que no és la propietària, simplement indiquem que la propietària és <code>Professor</code>, mitjançant <code>mappedBy="losModulos"</code>.</li>
</ul>
<p>Un codi d'exemple seria així:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Java</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-7-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-7-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-7-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-7-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-7-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-7-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-7-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-7-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-7-10">10</a></span>
<span class="normal"><a href="#__codelineno-7-11">11</a></span>
<span class="normal"><a href="#__codelineno-7-12">12</a></span>
<span class="normal"><a href="#__codelineno-7-13">13</a></span>
<span class="normal"><a href="#__codelineno-7-14">14</a></span>
<span class="normal"><a href="#__codelineno-7-15">15</a></span>
<span class="normal"><a href="#__codelineno-7-16">16</a></span>
<span class="normal"><a href="#__codelineno-7-17">17</a></span>
<span class="normal"><a href="#__codelineno-7-18">18</a></span>
<span class="normal"><a href="#__codelineno-7-19">19</a></span>
<span class="normal"><a href="#__codelineno-7-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">Profesor</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Profesor</span><span class="p">(</span><span class="s">&quot;Mario Benedé&quot;</span><span class="p">);</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="n">Profesor</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Profesor</span><span class="p">(</span><span class="s">&quot;Jose Fernandez&quot;</span><span class="p">);</span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="n">Modulo</span><span class="w"> </span><span class="n">m1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Modulo</span><span class="p">(</span><span class="s">&quot;Acceso a Datos&quot;</span><span class="p">);</span>
<a id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="n">Modulo</span><span class="w"> </span><span class="n">m2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Modulo</span><span class="p">(</span><span class="s">&quot;Bases de Datos&quot;</span><span class="p">);</span>
<a id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="n">Modulo</span><span class="w"> </span><span class="n">m3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Modulo</span><span class="p">(</span><span class="s">&quot;Programación&quot;</span><span class="p">);</span>
<a id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="n">Modulo</span><span class="w"> </span><span class="n">m4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Modulo</span><span class="p">(</span><span class="s">&quot;Diseño de Interfaces&quot;</span><span class="p">);</span>
<a id="__codelineno-7-8" name="__codelineno-7-8"></a>
<a id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="c1">// añadimos modulos a p1</span>
<a id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="n">p1</span><span class="p">.</span><span class="na">addModulo</span><span class="p">(</span><span class="n">m3</span><span class="p">);</span>
<a id="__codelineno-7-11" name="__codelineno-7-11"></a><span class="n">p1</span><span class="p">.</span><span class="na">addModulo</span><span class="p">(</span><span class="n">m1</span><span class="p">);</span>
<a id="__codelineno-7-12" name="__codelineno-7-12"></a>
<a id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="c1">// añadimos modulos a p2</span>
<a id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="n">p2</span><span class="p">.</span><span class="na">addModulo</span><span class="p">(</span><span class="n">m2</span><span class="p">);</span>
<a id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="n">p2</span><span class="p">.</span><span class="na">addModulo</span><span class="p">(</span><span class="n">m3</span><span class="p">);</span>
<a id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="n">p2</span><span class="p">.</span><span class="na">addModulo</span><span class="p">(</span><span class="n">m4</span><span class="p">);</span>
<a id="__codelineno-7-17" name="__codelineno-7-17"></a>
<a id="__codelineno-7-18" name="__codelineno-7-18"></a><span class="c1">// guardamos</span>
<a id="__codelineno-7-19" name="__codelineno-7-19"></a><span class="n">laSesion</span><span class="p">.</span><span class="na">persist</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span>
<a id="__codelineno-7-20" name="__codelineno-7-20"></a><span class="n">laSesion</span><span class="p">.</span><span class="na">persist</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>i la sortida de Hibernate serà semblant a:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bash</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span>
<span class="normal"><a href="#__codelineno-8-13">13</a></span>
<span class="normal"><a href="#__codelineno-8-14">14</a></span>
<span class="normal"><a href="#__codelineno-8-15">15</a></span>
<span class="normal"><a href="#__codelineno-8-16">16</a></span>
<span class="normal"><a href="#__codelineno-8-17">17</a></span>
<span class="normal"><a href="#__codelineno-8-18">18</a></span>
<span class="normal"><a href="#__codelineno-8-19">19</a></span>
<span class="normal"><a href="#__codelineno-8-20">20</a></span>
<span class="normal"><a href="#__codelineno-8-21">21</a></span>
<span class="normal"><a href="#__codelineno-8-22">22</a></span>
<span class="normal"><a href="#__codelineno-8-23">23</a></span>
<span class="normal"><a href="#__codelineno-8-24">24</a></span>
<span class="normal"><a href="#__codelineno-8-25">25</a></span>
<span class="normal"><a href="#__codelineno-8-26">26</a></span>
<span class="normal"><a href="#__codelineno-8-27">27</a></span>
<span class="normal"><a href="#__codelineno-8-28">28</a></span>
<span class="normal"><a href="#__codelineno-8-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a>Hibernate:<span class="w"> </span>drop<span class="w"> </span>table<span class="w"> </span><span class="k">if</span><span class="w"> </span>exists<span class="w"> </span>Modulo
<a id="__codelineno-8-2" name="__codelineno-8-2"></a>Hibernate:<span class="w"> </span>drop<span class="w"> </span>table<span class="w"> </span><span class="k">if</span><span class="w"> </span>exists<span class="w"> </span>Profesor
<a id="__codelineno-8-3" name="__codelineno-8-3"></a>Hibernate:<span class="w"> </span>create<span class="w"> </span>table<span class="w"> </span>Docencia<span class="w"> </span><span class="o">(</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">    </span>idProfesor<span class="w"> </span>bigint<span class="w"> </span>not<span class="w"> </span>null,<span class="w"> </span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">    </span>idModulo<span class="w"> </span>bigint<span class="w"> </span>not<span class="w"> </span>null,<span class="w"> </span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="w">    </span>primary<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>idProfesor,<span class="w"> </span>idModulo<span class="o">))</span><span class="w"> </span><span class="nv">engine</span><span class="o">=</span>InnoDB
<a id="__codelineno-8-7" name="__codelineno-8-7"></a>Hibernate:<span class="w"> </span>create<span class="w"> </span>table<span class="w"> </span>Modulo<span class="w"> </span><span class="o">(</span>
<a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">    </span>idModulo<span class="w"> </span>bigint<span class="w"> </span>not<span class="w"> </span>null<span class="w"> </span>auto_increment,<span class="w"> </span>
<a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="w">    </span>nombre<span class="w"> </span>varchar<span class="o">(</span><span class="m">255</span><span class="o">)</span>,<span class="w"> </span>
<a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="w">    </span>primary<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>idModulo<span class="o">))</span><span class="w"> </span><span class="nv">engine</span><span class="o">=</span>InnoDB
<a id="__codelineno-8-11" name="__codelineno-8-11"></a>Hibernate:<span class="w"> </span>create<span class="w"> </span>table<span class="w"> </span>Profesor<span class="w"> </span><span class="o">(</span>
<a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="w">    </span>idProfe<span class="w"> </span>bigint<span class="w"> </span>not<span class="w"> </span>null<span class="w"> </span>auto_increment,<span class="w"> </span>
<a id="__codelineno-8-13" name="__codelineno-8-13"></a><span class="w">    </span>nomProfe<span class="w"> </span>varchar<span class="o">(</span><span class="m">255</span><span class="o">)</span>,<span class="w"> </span>
<a id="__codelineno-8-14" name="__codelineno-8-14"></a><span class="w">    </span>primary<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>idProfe<span class="o">))</span><span class="w"> </span><span class="nv">engine</span><span class="o">=</span>InnoDB
<a id="__codelineno-8-15" name="__codelineno-8-15"></a>Hibernate:<span class="w"> </span>alter<span class="w"> </span>table<span class="w"> </span>Docencia<span class="w"> </span>add<span class="w"> </span>constraint<span class="w"> </span>FK_DOC_MOD<span class="w"> </span>
<a id="__codelineno-8-16" name="__codelineno-8-16"></a><span class="w">    </span>foreign<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>idModulo<span class="o">)</span><span class="w"> </span>references<span class="w"> </span>Modulo<span class="w"> </span><span class="o">(</span>idModulo<span class="o">)</span>
<a id="__codelineno-8-17" name="__codelineno-8-17"></a>Hibernate:<span class="w"> </span>alter<span class="w"> </span>table<span class="w"> </span>Docencia<span class="w"> </span>add<span class="w"> </span>constraint<span class="w"> </span>FK_DOC_PROF<span class="w"> </span>
<a id="__codelineno-8-18" name="__codelineno-8-18"></a><span class="w">    </span>foreign<span class="w"> </span>key<span class="w"> </span><span class="o">(</span>idProfesor<span class="o">)</span><span class="w"> </span>references<span class="w"> </span>Profesor<span class="w"> </span><span class="o">(</span>idProfe<span class="o">)</span>
<a id="__codelineno-8-19" name="__codelineno-8-19"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Profesor<span class="w"> </span><span class="o">(</span>nomProfe<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?<span class="o">)</span>
<a id="__codelineno-8-20" name="__codelineno-8-20"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Modulo<span class="w"> </span><span class="o">(</span>nombre<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?<span class="o">)</span>
<a id="__codelineno-8-21" name="__codelineno-8-21"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Modulo<span class="w"> </span><span class="o">(</span>nombre<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?<span class="o">)</span>
<a id="__codelineno-8-22" name="__codelineno-8-22"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Profesor<span class="w"> </span><span class="o">(</span>nomProfe<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?<span class="o">)</span>
<a id="__codelineno-8-23" name="__codelineno-8-23"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Modulo<span class="w"> </span><span class="o">(</span>nombre<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?<span class="o">)</span>
<a id="__codelineno-8-24" name="__codelineno-8-24"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Modulo<span class="w"> </span><span class="o">(</span>nombre<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?<span class="o">)</span>
<a id="__codelineno-8-25" name="__codelineno-8-25"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Docencia<span class="w"> </span><span class="o">(</span>idProfesor,<span class="w"> </span>idModulo<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?,<span class="w"> </span>?<span class="o">)</span>
<a id="__codelineno-8-26" name="__codelineno-8-26"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Docencia<span class="w"> </span><span class="o">(</span>idProfesor,<span class="w"> </span>idModulo<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?,<span class="w"> </span>?<span class="o">)</span>
<a id="__codelineno-8-27" name="__codelineno-8-27"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Docencia<span class="w"> </span><span class="o">(</span>idProfesor,<span class="w"> </span>idModulo<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?,<span class="w"> </span>?<span class="o">)</span>
<a id="__codelineno-8-28" name="__codelineno-8-28"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Docencia<span class="w"> </span><span class="o">(</span>idProfesor,<span class="w"> </span>idModulo<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?,<span class="w"> </span>?<span class="o">)</span>
<a id="__codelineno-8-29" name="__codelineno-8-29"></a>Hibernate:<span class="w"> </span>insert<span class="w"> </span>into<span class="w"> </span>Docencia<span class="w"> </span><span class="o">(</span>idProfesor,<span class="w"> </span>idModulo<span class="o">)</span><span class="w"> </span>values<span class="w"> </span><span class="o">(</span>?,<span class="w"> </span>?<span class="o">)</span>
</code></pre></div></td></tr></table></div>
<p>Despres de crear les taules, Hibernate crearà les claus alienes, i llavors inserirà els registres. Primer <code>Professor</code> i <code>Mòdul</code> i seguidament la relació entre ells de <code>Docència</code></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiat al porta-retalls", "clipboard.copy": "C\u00f2pia al porta-retalls", "search.result.more.one": "1 m\u00e9s en aquesta p\u00e0gina", "search.result.more.other": "# m\u00e9s en aquesta p\u00e0gina", "search.result.none": "Cap document coincideix", "search.result.one": "1 document coincident", "search.result.other": "# documents coincidents", "search.result.placeholder": "Escriu per a comen\u00e7ar a cercar", "search.result.term.missing": "Desaparegut", "select.version": "Selecciona la versi\u00f3"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>